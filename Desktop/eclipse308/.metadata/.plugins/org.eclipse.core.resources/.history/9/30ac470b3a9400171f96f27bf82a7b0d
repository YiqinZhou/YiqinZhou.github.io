/**
 * This class represents the traditional word-guessing game Hangman
 * that plays interactively with the user.
 *
 * @author Robert C. Duvall
 */
public class HangmanGameInteractive  {
    // word that is being guessed
    private String mySecretWord;
    // how many guesses are remaining
    private int myNumGuessesLeft;
    // what is shown to the user
    private StringBuilder myDisplayWord;
    // tracks letters guessed
    private StringBuilder myLettersLeftToGuess;


    /**
     * Create Hangman game with the given dictionary of words to play a game with words 
     * of the given length and giving the user the given number of chances.
     */

    
    public HangmanGameInteractive (HangmanDictionary dictionary, int wordLength, int numGuesses) {
        mySecretWord = dictionary.getRandomWord(wordLength);
        myNumGuessesLeft = numGuesses;
        myLettersLeftToGuess = new StringBuilder("abcdefghijklmnopqrstuvwxyz");
        myDisplayWord = new StringBuilder(mySecretWord.length());
        for (int k = 0; k < mySecretWord.length(); k++) {
            char ch = mySecretWord.charAt(k);
            if (Character.isAlphabetic(ch)) {
                myDisplayWord.append("_");
            }
            else {
                myDisplayWord.append(mySecretWord.charAt(k));
            }
        }
    }
    
    

    public void play () {
        
        while (!checkGameOver()) {
            // print game status
            for (int k = 0; k < myDisplayWord.length(); k++) {
                System.out.print(myDisplayWord.charAt(k) + " ");
            }
            System.out.println();
            System.out.println("# misses left = " + myNumGuessesLeft);
            System.out.println("letters not yet guessed = " + myLettersLeftToGuess);
            // NOT PUBLIC, but makes it easier to test
            System.out.println("*** " + mySecretWord);        
            System.out.println();

            // handle guess
            String guess = ConsoleReader.promptString("Make a guess: ");
            
            
            if (guess.length() == 1 && Character.isAlphabetic(guess.charAt(0))) {
                makeGuess(guess.toLowerCase().charAt(0));
            }
            else {
                System.out.println("Please enter a single letter ...");
            }

          
           
        }
        System.out.println("The secret word was " + mySecretWord);
    }

     //Check for end of the game, make the code clearer
	private boolean checkGameOver() {
		if (myNumGuessesLeft == 0) {
		    System.out.println("YOU ARE HUNG!!!");
		    return true;
		}
		else if (mySecretWord.equals(String.join("", myDisplayWord))) {
		    System.out.println("YOU WIN!!!");
		    return true;
		}
		return false;
	}



}




   
  